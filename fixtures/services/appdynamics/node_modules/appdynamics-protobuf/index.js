/*
Copyright (c) AppDynamics, Inc., and its affiliates
2015
All Rights Reserved
*/
function tryRequire(moduleName)
{
   var fullPath;
   try {
       fullPath = require.resolve(moduleName);
   }
   catch (e) {
       return undefined;
   }
   return require(fullPath);
}

function requireProtobufBinding()
{
   var locations = [ './build/Release/protobuf_for_node',
                     '../build/Debug/protobuf_for_node'];
   for (var i = 0; i < locations.length; i++) {
       var zmq = tryRequire(locations[i]);
       if (zmq)
           return zmq;
   }
   // Try the last location without first
   // checking if that locations exists.
   return require('./protobuf_for_node');
}


module.exports = requireProtobufBinding();
